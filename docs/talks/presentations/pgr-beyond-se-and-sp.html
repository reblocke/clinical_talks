<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.34">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="A resident-facing collection of clinical talk stubs and quick-reference notes.">

<title>238&nbsp; PGR Beyond Se And Sp – Clinical Talks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../talks/presentations/pgr-chf-and-the-lungs.html" rel="next">
<link href="../../talks/presentations/pgr.html" rel="prev">
<link href="../../images/logos/logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7ad8df1012cc34949a7a0ac4d54234c8.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-4025c78eb06e3211cf54df66d954ffce.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7ad8df1012cc34949a7a0ac4d54234c8.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-ebfd620605111665806f6e901e0d6613.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-c8e9aa0560542bf150c16170b15c6ab1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-ebfd620605111665806f6e901e0d6613.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="quarto:status" content="draft">


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
<link rel="stylesheet" href="../../include/booktem.css">
<link rel="stylesheet" href="../../include/webex.css">
<link rel="stylesheet" href="../../include/glossary.css">
<link rel="stylesheet" href="../../include/style.css">
</head>

<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><div id="quarto-draft-alert" class="alert alert-warning"><i class="bi bi-pencil-square"></i>Draft</div>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../talks/presentations/index.html">Presentations</a></li><li class="breadcrumb-item"><a href="../../talks/presentations/pgr-beyond-se-and-sp.html"><span class="chapter-number">238</span>&nbsp; <span class="chapter-title">PGR Beyond Se And Sp</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Clinical Talks</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/reblocke/clinical_talks" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Clinical Talks</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Airway &amp; Ventilation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/airway-ventilation/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Airway &amp; Ventilation</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Pulmonary &amp; Sleep</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/pulmonary-sleep/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Pulmonary &amp; Sleep</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Critical Care</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/critical-care/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Critical Care</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Cardiology &amp; Vascular</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/cardiology-vascular/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">54</span>&nbsp; <span class="chapter-title">Cardiology &amp; Vascular</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Renal &amp; Metabolic</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/renal-metabolic/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">61</span>&nbsp; <span class="chapter-title">Renal &amp; Metabolic</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Infectious &amp; Immune</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/infectious-immune/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">69</span>&nbsp; <span class="chapter-title">Infectious &amp; Immune</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Procedures &amp; Devices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/procedures-devices/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">75</span>&nbsp; <span class="chapter-title">Procedures &amp; Devices</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Environmental &amp; Occupational</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/environmental-occupational/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">85</span>&nbsp; <span class="chapter-title">Environmental &amp; Occupational</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Education &amp; Research</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/education-research/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">91</span>&nbsp; <span class="chapter-title">Education &amp; Research</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Presentations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/presentations/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">94</span>&nbsp; <span class="chapter-title">Presentations</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">Miscellaneous</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../talks/miscellaneous/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">271</span>&nbsp; <span class="chapter-title">Miscellaneous</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="header-section-number">238.1</span> Summary</a></li>
  <li><a href="#slide-outline" id="toc-slide-outline" class="nav-link" data-scroll-target="#slide-outline"><span class="header-section-number">238.2</span> Slide outline</a>
  <ul class="collapse">
  <li><a href="#slide-1" id="toc-slide-1" class="nav-link" data-scroll-target="#slide-1"><span class="header-section-number">238.2.1</span> Slide 1</a></li>
  </ul></li>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives"><span class="header-section-number">238.3</span> Learning objectives</a></li>
  <li><a href="#bottom-line-summary" id="toc-bottom-line-summary" class="nav-link" data-scroll-target="#bottom-line-summary"><span class="header-section-number">238.4</span> Bottom line / summary</a></li>
  <li><a href="#approach" id="toc-approach" class="nav-link" data-scroll-target="#approach"><span class="header-section-number">238.5</span> Approach</a></li>
  <li><a href="#red-flags-when-to-escalate" id="toc-red-flags-when-to-escalate" class="nav-link" data-scroll-target="#red-flags-when-to-escalate"><span class="header-section-number">238.6</span> Red flags / when to escalate</a></li>
  <li><a href="#common-pitfalls" id="toc-common-pitfalls" class="nav-link" data-scroll-target="#common-pitfalls"><span class="header-section-number">238.7</span> Common pitfalls</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">238.8</span> References</a></li>
  <li><a href="#slides-and-assets" id="toc-slides-and-assets" class="nav-link" data-scroll-target="#slides-and-assets"><span class="header-section-number">238.9</span> Slides and assets</a></li>
  <li><a href="#source-materials" id="toc-source-materials" class="nav-link" data-scroll-target="#source-materials"><span class="header-section-number">238.10</span> Source materials</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../talks/presentations/index.html">Presentations</a></li><li class="breadcrumb-item"><a href="../../talks/presentations/pgr-beyond-se-and-sp.html"><span class="chapter-number">238</span>&nbsp; <span class="chapter-title">PGR Beyond Se And Sp</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">238</span>&nbsp; <span class="chapter-title">PGR Beyond Se And Sp</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="summary" class="level2" data-number="238.1">
<h2 data-number="238.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">238.1</span> Summary</h2>
<ul>
<li>PGR – Beyond Sensitivity and Specificity</li>
<li>A 55F who is a nurse comes in with sepsis and chest pain, a RUL infiltrate that is cavitating in XR.</li>
<li>CME:</li>
<li>Answer</li>
<li>A history of risk (which is therefore, a history of probability and consequence)</li>
<li>”In the beginner’s mind there are many possibilities, but in the expert’s mind there are few” – Suzuki Roshi</li>
<li>Chesterton’s Fence</li>
<li>What proportion of CAP is caused by MRSA?</li>
<li>How good am I at predicting who has MRSA pneumonia?</li>
</ul>
</section>
<section id="slide-outline" class="level2" data-number="238.2">
<h2 data-number="238.2" class="anchored" data-anchor-id="slide-outline"><span class="header-section-number">238.2</span> Slide outline</h2>
<section id="slide-1" class="level3" data-number="238.2.1">
<h3 data-number="238.2.1" class="anchored" data-anchor-id="slide-1"><span class="header-section-number">238.2.1</span> Slide 1</h3>
<ul>
<li>PGR – Beyond Sensitivity and Specificity</li>
<li>Brian Locke ### Slide 2</li>
<li>A 55F who is a nurse comes in with sepsis and chest pain, a RUL infiltrate that is cavitating in XR.</li>
<li>Blood cultures are received in the ER. She receives Vanc, Cefepime, and Azithromycin.</li>
<li>Blood and sputum cultures are collected. MRSA nasal swab is obtained and negative. Influenza A is positive.</li>
<li>She says she’s been sick for a week, thought she was doing better then worsened.</li>
<li>Pulmonary is consulted to help 12h after admission. CT is recommended confirms what looks to be a necrotizing pneumonia, no evidence of a lesion. Some ipsilateral LAD. No underlying lung disease.</li>
<li>Do you advise the team to stop vancomycin? ### Slide 3</li>
<li>CME:</li>
<li>Question: your intern says that “MRSA nasal swab is a good test at ruling out MRSA pneumonia.” You are feeling extra pedantic today, insisting only on the most truthful statements. Which of the following is true?</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high specificity</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high sensitivity</li>
<li>MRSA nasal swab is not a good test, but can still be useful.</li>
<li>Ugh. Sensitivity and specificity? These metrics are confusing. ### Slide 4</li>
<li>Answer</li>
<li>Question: your intern says that “MRSA nasal swab is a good test at ruling out MRSA pneumonia.” You are feeling extra pedantic today, insisting only on the most truthful statements. Which of the following is true?</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high specificity</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high sensitivity</li>
<li>MRSA nasal swab is not a good test, but can still be useful: when MRSA pneumonia is unlikely but not so unlikely we can ignore it.</li>
<li>Ugh. Sensitivity and specificity? These metrics are confusing. ### Slide 5</li>
<li>A history of risk (which is therefore, a history of probability and consequence)</li>
<li>Let’s take an analogous approach and build up “test characteristics” from the start ### Slide 6</li>
<li>”In the beginner’s mind there are many possibilities, but in the expert’s mind there are few” – Suzuki Roshi</li>
<li>In clinical medicine, we would all think a lot more clearly if we used likelihood ratios, rather than sensitivity and specificity (or NPV and PPV)</li>
<li>Likelihood ratios actually mean what we incorrectly take Se and Sp to mean</li>
<li>Se and Sp are tools fit for an epidemiologic purpose that is not the purpose we use them for</li>
<li>PPV and NPV are not flexible enough for use in the diagnostic process. ### Slide 7</li>
<li>Chesterton’s Fence</li>
<li>Say you come across a fence that is blocking the way to where you’re planning on walking. You think, “I should take down this fence, because it’s in the way”. However, before taking down the fence, one should understand why a fence was put there in the first place.</li>
<li>Chesterton’s Fence: the principal that reforms should not be made until the reasoning for the existing state of affairs is understood.</li>
<li>Why do we use sensitivity and specificity to summarize how ‘good’ tests are? Why not just ‘accuracy’ (proportion correct)? ### Slide 8</li>
<li>What proportion of CAP is caused by MRSA?</li>
<li>Chat GPT text ### Slide 9</li>
<li>What proportion of CAP is caused by MRSA?</li>
<li>~3.7%</li>
<li>https://erj.ersjournals.com/content/34/5/1148 ### Slide 10</li>
<li>How good am I at predicting who has MRSA pneumonia? ### Slide 11</li>
<li>How good am I at predicting who has MRSA pneumonia? ### Slide 12</li>
<li>How good am I at predicting who has MRSA pneumonia? ### Slide 13</li>
<li>How good am I at predicting who has MRSA pneumonia? ### Slide 14</li>
<li>How good am I at predicting who has MRSA pneumonia? ### Slide 15</li>
<li>How good am I at predicting who has MRSA pneumonia? ### Slide 16</li>
<li>How good am I at predicting who has MRSA pneumonia?</li>
<li>Thinking it was going to be another 32 patients before there was a MRSA pneumonia is called the ”Gambler’s Fallacy” ### Slide 17</li>
<li>How good am I at predicting who has MRSA pneumonia?</li>
<li>Dumb Brian is 96.1% accurate!</li>
<li>(What does it feel like to be 96.1% accurate?) ### Slide 18</li>
<li>Enter Sensitivity and Specificity:</li>
<li>WW2: RADAR (radio detection and ranging) invented</li>
<li>RADAR Receiver Operators: Is this blip a flock of geese or a bomber?</li>
<li>Like MRSA pneumonia, this is an imbalanced outcome: there are many more blips that are geese than blips that are bombers.</li>
<li>Solution:</li>
<li>In cases where it’s a bomber, what portion do we get correct? (Sensitivity)</li>
<li>In cases where it’s not a bomber, what portion do we get correct? (Specificity) ### Slide 19</li>
<li>Early medical diagnostics:</li>
<li>https://www.acpjournals.org/doi/abs/10.7326/M20-5028?cookieSet1 ### Slide 20</li>
<li>How good am I at predicting who has MRSA pneumonia?</li>
<li>Overall, Dumb Brian is 96.1% accurate!</li>
<li>In cases where it IS MRSA: Dumb Brian is 0% accurate (0% Se)</li>
<li>In cases where it is not MRSA: Dumb Brian is 100% accurate (100% Sp) ### Slide 21</li>
<li>SpIN &amp; SnOUT: INCORRECT AND MISLEADING</li>
<li>Specific tests rule diagnoses in; Sensitive tests rule diagnoses out</li>
<li>Dumb Brian is 100% Specific ( Probability of a correct answer when the disease is not present) yet is of no use for ruling diagnoses in or out. ### Slide 22</li>
<li>How good am I at predicting who has MRSA pneumonia? Coin Flips</li>
<li>Overall, Coin Flipping Dumb Brian is 49.8% accurate!</li>
<li>In cases where it IS MRSA: Dumb Brian is 54.3% accurate (Se)</li>
<li>In cases where it is not MRSA: Dumb Brian is 49.7% accurate (Sp) ### Slide 23</li>
<li>How good am I at predicting who has MRSA pneumonia? Dice 1-4 Not MRSA, 5-6 MRSA</li>
<li>Overall, Coin Flipping Dumb Brian is 64.8% accurate!</li>
<li>In cases where it IS MRSA: Dumb Brian is 36% (Se) accurate</li>
<li>In cases where it is not MRSA: Dumb Brian is 65.9% (Sp) accurate ### Slide 24</li>
<li>What is the pattern here?</li>
<li>Strategy</li>
<li>Any relation to outcome?</li>
<li>Accuracy</li>
<li>Se</li>
<li>Sp</li>
<li>Always no</li>
<li>No</li>
<li>96.1%</li>
<li>0%</li>
<li>100%</li>
<li>Die:</li>
<li>1-4 no, 5-6 yes</li>
<li>64.8%</li>
<li>36%</li>
<li>65.9%</li>
<li>(fair) coin flip</li>
<li>49.8%</li>
<li>54.3%</li>
<li>49.7%</li>
<li>Rule of 100: A test where sensitivity and specify sum to 100 is worthless (no change the likelihood that disease is present) ### Slide 25</li>
<li>Summary:</li>
<li>Accuracy is a poor measure of performance in when the outcome is uncommon</li>
<li>“Classification of Imbalanced Data”: yes does not ~ no</li>
<li>Even common diagnoses are often far from 50:50</li>
<li>Sensitivity and Specificity are used to solve this problem</li>
<li>but they do not mean what we take them to mean (utility in ruling out or in diagnoses) ### Slide 26</li>
<li>This applies to tests, but also personal performance.</li>
<li>We shouldn’t use “accuracy” in the context of excluding rare diagnoses</li>
<li>It takes much better testing (or sharper reasoning) to make a rarer diagnosis</li>
<li>Thus you ought to be more skeptical of claims of one having been made (Aberegg and Callahan 2021)</li>
<li>It is more impressive to have correctly identified something that is rare.</li>
<li>Brier Score: ### Slide 27</li>
<li>Why do Se and Sp ! Usefulness for Ruling in and out?</li>
<li>Conditional probability:</li>
<li>the probability of event B occurring IF event A occurs.</li>
<li>P(B | A)</li>
<li>If event A does not occur, the conditional probability has no relevance.</li>
<li>Sensitivity: conditional probability of correct test IF the patient has disease</li>
<li>Specificity: conditional probability of correct test IF the patient does not have disease</li>
<li>Which applies to our patient with pneumonia? ### Slide 28</li>
<li>Backwards probability:</li>
<li>A conditional probability that depends on an event that can’t be known (yet) at the time of usage.</li>
<li>A p-value is another example of this: the probability of if nullTrue, what we be the chance of seeing this result (or more extreme).</li>
<li>Of people who have the disease, how many have the test result? Backward probability</li>
<li>Of people who have a positive test result, how many have the disease? Forward probability (what we want) ### Slide 29</li>
<li>Does it matter?</li>
<li>We (clinicians and researchers) empirically can’t correctly interpret</li>
<li>GERD gigerenzer; majority of MDs in survey’s get this wrong.</li>
<li>Think it’s the chance of</li>
<li>P-value interpretations</li>
<li>“The chance this finding is true given the result P&lt;0.05” ! ”The chance you’d get this result if the null hypothesis is true” ### Slide 30</li>
<li>TODO: No text extracted from this slide. ### Slide 31</li>
<li>So when ARE sensitivity and specificity the right tool?</li>
<li>You are a researcher trying to construct the best MRSA nasal swab possible. You want to tune the threshold for what Cycle Count of DNA counts as possible.</li>
<li>Your aim is to choose the right threshold to balance the number of false positives vs false negatives.</li>
<li>Or, you want to understand the FP and FN rate if a known test is applied to a population</li>
<li>Or, you were a receiver operator interested in weighing FN and FP rates.</li>
<li>Conditioning on unknowable information: ameliorated by repeating over many trials.</li>
<li>Choose a threshold to balance: Receiver Operating Characteristic curve analysis ### Slide 32</li>
<li>TODO: No text extracted from this slide. ### Slide 33</li>
<li>What about +/- predictive value?</li>
<li>Conditional probability of +disease given +test</li>
<li>NOT a backward probability (which is good)</li>
<li>But depends on the prevalence in ‘comparable’ cases. (which is bad)</li>
<li>Often, there is no data on ‘comparable’ cases</li>
<li>A major draw of sensitivity and specificity is that they don’t depend on prevalence</li>
<li>PPV/NPV are good at a population level, but will mislead in individuals who have risks that differ from the population norm. ### Slide 34</li>
<li>What’s the alternative:</li>
<li>Likelihood ratios (same paradigm: of classifying whether patients have a disease or not)</li>
<li>Likelihood ratio is a forward probability , but depends on an estimate of how probable the diagnosis is beforehand, rather than the population prevalence</li>
<li>Or their extension (which can handle continuous variables): Logistic Regression [ ] discussed here https://pubmed.ncbi.nlm.nih.gov/15800301/</li>
<li>Risk modeling (paradigm shift: to predicting the risk of patient outcomes or predicting treatment responsiveness)</li>
<li>e.g.&nbsp;HLD is no longer a diagnosis. ASCVD risk 10y superseded this. ### Slide 35</li>
<li>The likelihood principal (not Bayesian statistics) ### Slide 36</li>
<li>Computation of LR ratio ### Slide 37</li>
<li>Why are LR better? Proper Scoring Rule</li>
<li>“Q: What is a proper accuracy scoring rule?</li>
<li>A: When applied to predicting categorical outcomes, a proper probability accuracy scoring rule is a measure that is optimized when the predicted probabilities are the true outcome probabilities.Examples of proper accuracy scores include the Brier score, the logarithmic probability score, and the log-likelihood from a correct statistical model. Examples of improper scoring rules, i.e., rules that are optimized by a bogus model, are proportion classiﬁed correctly, sensitivity, speciﬁcity, precision, recall, and the c-index (area under the receiver operating characteristic curve).” ### Slide 38</li>
<li>If you’re going to dichotomize results and disease states: LR is a much better indicator of the strength of a result.</li>
<li>(you can generate LR’s for various levels of a continuous variable, which is better). ### Slide 39</li>
<li>ROC Graphs: Se, Sp vs LR</li>
<li>+Sp</li>
<li>+Se</li>
<li>+LR</li>
<li>How often positive</li>
<li>LR represents how far from the line of coin-flips a test is.</li>
<li>Further from the line is always better.</li>
<li>LR proper scoring rule</li>
<li>Higher or more leftward is NOT always better</li>
<li>Se Sp not a proper scoring rule ### Slide 40</li>
<li>Test for comprehension</li>
<li>a.) se 85 sp 75 -&gt; +LR 2.83, -LR 0.20</li>
<li>b.) se 90 sp 50 -&gt; +LR 1.8, -LR 0.20</li>
<li>c.) Se 95 sp 25 -&gt; +LR 1.27, -LR 0.20</li>
<li>https://calculator.testingwisely.com/playground ### Slide 41</li>
<li>A 55F who is a nurse comes in with sepsis and chest pain, a RUL infiltrate that is cavitating in XR.</li>
<li>Blood cultures are received in the ER. She receives Vanc, Cefepime, and Azithromycin.</li>
<li>Blood and sputum cultures are collected. MRSA nasal swab is obtained and negative. Influenza A is positive.</li>
<li>She says she’s been sick for a week, thought she was doing better then worsened.</li>
<li>Pulmonary is consulted to help 12h after admission. CT is recommended confirms what looks to be a necrotizing pneumonia, no evidence of a lesion. Some ipsilateral LAD. No underlying lung disease.</li>
<li>Do you advise the team to stop vancomycin? ### Slide 42</li>
<li>CME:</li>
<li>Question: your intern says that “MRSA nasal swab is a good test at ruling out MRSA pneumonia.” You are feeling extra pedantic today, insisting only on the most truthful statements. Which of the following is true?</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high specificity</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high sensitivity</li>
<li>MRSA nasal swab is not a good test, but can still be useful.</li>
<li>Ugh. Sensitivity and specificity? These metrics are confusing. ### Slide 43</li>
<li>Answer</li>
<li>Question: your intern says that “MRSA nasal swab is a good test at ruling out MRSA pneumonia.” You are feeling extra pedantic today, insisting only on the most truthful statements. Which of the following is true?</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high specificity</li>
<li>MRSA nasal swab is a good test at ruling out disease because it has a high sensitivity</li>
<li>MRSA nasal swab is not a good test, but can still be useful: when MRSA pneumonia is unlikely but not so unlikely we can ignore it.</li>
<li>Ugh. Sensitivity and specificity? These metrics are confusing. ### Slide 44</li>
<li>SRMA of MRSA nasal swab. Also VA study?</li>
<li>Do they make errors about the distribution of covariates?</li>
<li>https://pubmed.ncbi.nlm.nih.gov/29340593/ ### Slide 45</li>
<li>Returning to our case:</li>
<li>Healthcare exposure and cavitary component are both risk factors for MRSA pneumonia ### Slide 46</li>
<li>Say you take my advice…</li>
<li>If you don’t take off Vanc and it ends up usually being not MRSA.. Will you question whether I was right? ### Slide 47</li>
<li>2 common problems with Se and Sp estimates in practice:</li>
<li>Spectrum Bias</li>
<li>Case-control design ### Slide 48</li>
<li>TODO: No text extracted from this slide. ### Slide 49</li>
<li>Case control studies for diagnostic tests</li>
<li>Take two groups of patients: healthy controls and patients with (clear cases) of the disease. Then you calculate the 2x2 table of each</li>
<li>Excludes many patients who would be more prone to false positives and false negatives.</li>
<li>People with milder disease (sensitivity increases if there is any comofbidity that increases severity in the population)</li>
<li>Consider: EKG stress test is more sensitive in older patients, men, and those w more vessel dz</li>
<li>People with alternative conditions</li>
<li>When we use tests, we ALWAYS use them where either the patient is ill with the disease in question, or the are ill with another disease. (Healthy isn’t a comparator) ### Slide 50</li>
<li>Test your learning:</li>
<li>Can MRSA nasal swab rule out MRSA in sinus infections? Is it a better or worse test for MRSA in sinus and why? ### Slide 51</li>
<li>Summary Points</li>
<li>Some tests are very informative while others are not: we need to represent this somehow.</li>
<li>Accuracy is misleading in imbalanced data, which is most of medicine.</li>
<li>Se/Sp fix this and are useful for epidemiologists, but they cause confusion because they are backward probabilities.</li>
<li>PPV &amp; NPV are useful at a population level, but patients that differ from the population average are not well represented.</li>
<li>We can represent the informativeness of diagnostic tests in a way that matches what we intend to communicate</li>
<li>Use likelihood ratios to represent test characteristics in clinical care. ### Slide 52</li>
<li>Other slides ### Slide 53</li>
<li>What proportion of patients with CAP who have MRSA nasal swabs ordered have a positive result? ### Slide 54</li>
<li>Roadmap: Problems with Se and Sp</li>
<li>They are conditional probabilities that are conditional on something you don’t know</li>
<li>They make continuous variables into dichotomous ones, and thus discard information</li>
<li>They do not describe the ability of a test to rule out (sensitivity) and rule in (specificity), like people think they do</li>
<li>They are often derived from case-control studies, which over-estimate the usefulness of tests</li>
<li>Therefore, they are unnatural and confusing ways to describe the usefulness of tests. It is only a historical coincidence we use them. ### Slide 55</li>
<li>MRSA review ### Slide 56</li>
<li>Good discussion; review for framing</li>
<li>https://stats.stackexchange.com/questions/312780/why-is-accuracy-not-the-best-measure-for-assessing-classification-models ### Slide 57</li>
<li>Abductive reasoning: [ ] take this from other paper ### Slide 58</li>
<li>https://www.bmj.com/content/358/bmj.j4071?ijkey7569ba3edc8f57718804938da71b1cadd2390a6d&amp;keytype2tfipsecsha</li>
<li>This one argues that test chars can only really be understood in the context of a differential. ### Slide 59</li>
<li>Se and Sp are NOT proper scoring rules</li>
<li>Se:sp</li>
<li><label><input type="checkbox">What does a likelihood ratio represent on the ROC graph? Perpendicular to the 50/50 line vs vertical and horizontal</label></li>
<li> finding the optimal cutoff requires weighing the harm of a FP vs a FN – for this, Se and Sp are useful. However, we are not doing this – we are interested in the amount of information added. … maximizing LR and an analysis of fp and fn might give different results? ### Slide 60</li>
<li>Diagnosticity argument:</li>
<li>Do not use sensitivity, specificity, NPV, PPV to talk about the “goodness” or usefulness of a test in individual patient care: it is misleading and the only reason we do it is an idiosyncrasy of how things were initially conceptualized. ### Slide 61</li>
<li>Argument:</li>
<li>Imagine that a patient has a 10% chance of having a disease.</li>
<li>(Either, if you saw a patient with the same relevant characteristics 10x, on average - 1 would have the disease Frequentist perspective. Or, given what I know there is a 10% chance that this patient is, in fact, diseased bayesian.) ### Slide 62</li>
<li>Out of the following tests: (varying se and sp), which would you like best?</li>
<li>All same</li>
<li>Thus, se (or sp) does not tell us what we want to know.</li>
<li>Additionally, while NPV, and PPV discriminate OK (meaning, a better PPV or a better NPV is indexed better, they are miscalibrated - your estimate will be wrong if your patient has any characteristics that make their risk different from the population average). ### Slide 63</li>
<li>Thus use likelihood ratios.</li>
<li>Then go in to Harrell’s arguments.</li>
<li>https://hbiostat.org/blog/post/addvalue/ ### Slide 64</li>
<li>—&gt; dive in to specificity/sensitivity; idea of diagnostic tests as very simple models -&gt; critique of the analysis approach from that lens.</li>
<li>(Dichotomizing further simplification and loss of information)</li>
<li>(Considering a result in isolation - without collinear information - is not) ### Slide 65</li>
<li>Why can’t we just say how accurate a test is?</li>
<li>Accuracy does not tell us in what way we are wrong.</li>
<li>Accuracy (TP + TN) / (TP+FP+TN+FN) ’how often does the test get it right’</li>
<li>If Positives are much less common than negatives, always saying “no disease” will be highly accurate. (called ‘class imabalance’</li>
<li>Why did we end up with Sensitivity and Specificity in the first place?</li>
<li>—&gt; Accuracy of a test shortcomings.</li>
<li>Class imbalance…. Epi text book ### Slide 66</li>
<li>?Reference class problem - study patients “like the patient” - but there are In infinite number of ways you could do this.</li>
<li>Ability of a test to add information to other tests</li>
<li>(Brief detour into added values metrics like net reclassification index)</li>
<li>Assessment of a diagnostic test involves consideration of 3 components of effectiveness: accuracy, clinical utility, and patient benefit:</li>
<li>To be effective, a test must be accurate, which is determined by sensitivity (the true-positive rate) and specificity (the true-negative rate) [REFORMULATED AS LIKELIHOOD RATIOS].</li>
<li>A diagnostic test with clinical utility is one that has a measurable net positive effect on a patient’s clinical outcome.</li>
<li>—&gt; can avoid unnecessary exposure.</li>
<li>A diagnostic test with patient benefit is one that positively affects a patient’s health or well-being in some way, even if the test result does not directly influence clinical treatment decisions or prognosis.</li>
<li>—&gt; comparison to MRSA-based de-escelation? Probably depends a lot on what ### Slide 67</li>
<li>Why did we even develop this convention in the first place?</li>
<li>Why did we even adopt this convention?</li>
<li>https://mlu-explain.github.io/roc-auc/</li>
<li>‘ROC curves were first employed during World War 2 to analyze radar signals: After missing the Japanese aircraft that carried out the attack on Pearl Harbor, the US wanted their radar receiver operators to better identify aircraft from signal noise (e.g.&nbsp;clouds). The operator’s ability to identify as many true positives as possible while minimizing false positives was named the Receiver Operating Characteristic, and the curve analyzing their predictive abilities was called the ROC Curve. Today, ROC curves are used in a number of contexts, including clinical settings (to assess the diagnostic accuracy of a test) and machine learning (the focus of this article).’</li>
<li>The AUC is the probability that the model will rank a randomly chosen positive example more highly than a randomly chosen negative example</li>
<li>if the model always predicts a positive sample is more likely to have a positive label than a negative sample, then it will have an AUC of 1. This strategy also provides a very easy method to estimate the AUC: simply tally up the proportion of correctly ranked positive-negative pairs!</li>
<li>In cases when you desire well-calibrated probability outputs (i.e.&nbsp;when you care about the true likelihood of an event, and not just model performance), ROC/AUC will give us no such information. Additionally, the AUC metric treats all classification errors equally, ignoring the potential consequences of ignoring one type over another.</li>
<li>http://bedside-rounds.org/episode-63-signals/</li>
<li>——- ### Slide 68</li>
<li>“A test result is merely a number that is open to interpretation. The idea that a test is either true or false took seed in “signal-detection-theory” in the 1940’s in radar and psychometrics. A signal on a radar screen may be an enemy, or a flock of birds, and training in radar detection aimed to increase the true detections of enemy while reducing a retaliatory barrage at our feathered friends (falsely detected as enemy). In diagnostic testing, values for the test result above the cut-off value are positive (enemy), and, below, negative (birds). However, as in radar detection, some signals are stronger than others and the ability to determine true from false depends on the strength of the signal. ” ### Slide 69</li>
<li>Bayesian vs Likelihoodist vs Frequentists statistical formulations - https://plato.stanford.edu/entries/probability-interpret/ ### Slide 70</li>
<li>Statist. Med. 2000; 19:1783}1792The (In)Validity of sensitivity and speci”city ### Slide 71</li>
<li><label><input type="checkbox">Could you calculate differential likelihood conditional on age, weight, gender?</label></li>
<li>‘Type 1. The first is the ‘overall’ likelihood ratio, which is the frequency of a finding in those with a diagnosis divided by the frequency of the same finding in those without the diagnosis (also called the ‘sensitivity’ of a test divided by its ‘false positive rate’ (i.e.&nbsp;1 minus the specificity).</li>
<li>Type 2. The second type is the ‘differential’ likelihood ratio, which is the frequency of the finding in those with a diagnosis divided by the frequency of the same finding in a rival differential diagnostic possibility. This involves one ‘sensitivity’ being divided by another ‘sensitivity’.</li>
<li>It is the second type—the differential likelihood ratio that allows a finding to be assessed for use in diagnosis by probable elimination. This ratio needs to be as high as possible; if it is infinity, then it shows that the rival diagnosis is impossible. When a likelihood ratio is used in calculations, it is the rival diagnosis’s sensitivity that is put on top, so that the likelihood ratio of infinity becomes a likelihood ratio of zero.</li>
<li>“</li>
<li>https://academic.oup.com/book/31795/chapter/266181309?loginfalse ### Slide 72</li>
<li>Take-aways</li>
<li>For decisions about testing on individual patients, Sensitivity and Specificity are the wrong test characteristics to use because they are confusing to apply (reference class problem, forward probabilities) and are not proper scoring rules for how their common use case (not proper scoring rules)</li>
<li>Positive and negative predictive value are also inappropriate as they imply all patients are equally likely to have the disease.</li>
<li>Likelihood ratios address all the above issues: they are easier to understand and they mean what we think they mean.</li>
<li>They are not perfect (dichotomization) ### Slide 73</li>
<li>Review approach in: Tell me the odds,</li>
<li>https://a.co/6ksOrXe</li>
<li>https://www.amazon.com/gp/product/B01AZXQY1K</li>
<li>http://www.fairlynerdy.com/an-intuitive-guide-to-bayes-theorem/ ### Slide 74</li>
<li>Se, Sp are not the right operator characteristics for clinical use</li>
<li>Confusion Matrix</li>
<li>Test (+)</li>
<li>Test (-)</li>
<li>Ref. Std (+)</li>
<li>True Positive (TP)</li>
<li>False Negative (FN)</li>
<li>Se: TP / (TP+FN)</li>
<li>In those w/ dz, what portion does the test get right?</li>
<li>In practice, we do not know which row we are in</li>
<li>Ref. Std (-)</li>
<li>False Positive (FP)</li>
<li>True Negative (TN)</li>
<li>Sp: TN / (TN + FP)</li>
<li>In those w/o dz, what portion does the test get right?</li>
<li>PPV : TP / (TP+FP)</li>
<li>In those w/ (+) test, what portion does the test get right?</li>
<li>NPV: TN / (TN+FN)</li>
<li>In those w/ (-) test, what portion does the test get right?</li>
<li>In practice, know which column we are in ### Slide 75</li>
<li>Relationship to ’Information Added’</li>
<li>Conditional probability:</li>
<li>Pr( [Test +] given [has dz]) Pr( [Test +] and [has dz])/Pr([has dz])</li>
<li>Bayes Theorem:</li>
<li>Pr ( [has dz] given [Test +]) Pr ([has dz]) Pr ([Test+] given [has dz]) / Pr([Test+])</li>
<li>We want: Conditional probability the patient has the disease given a positive test / Conditional probability the patient doesn’t have the disease given a positive test</li>
<li>Plug in to bayes and solve: Pr([test+]) drops, leaves you with a likelihood ratio and the Pr([has dz]) aka your pretest probability.</li>
<li><ul>
<li>Likelihood ratio Pr([Test + and Have Dz]) / Pr ([Have Dz]) over Pr([Test – and have dz]) / Pr([don’t have dz])</li>
</ul></li>
<li>+LR se / (1-sp) ### Slide 76</li>
<li>Sp 80%, Se 20% - good confirmatory test?</li>
<li>Rule of 100: If se+sp 100, then LR 1. No information is added.</li>
<li>Spectrum of utility</li>
<li>Do one of these with the pie charts? ### Slide 77</li>
<li>TODO: No text extracted from this slide.</li>
</ul>
</section>
</section>
<section id="learning-objectives" class="level2" data-number="238.3">
<h2 data-number="238.3" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">238.3</span> Learning objectives</h2>
<ul>
<li>PGR – Beyond Sensitivity and Specificity</li>
<li>A 55F who is a nurse comes in with sepsis and chest pain, a RUL infiltrate that is cavitating in XR.</li>
<li>CME:</li>
<li>Answer</li>
<li>A history of risk (which is therefore, a history of probability and consequence)</li>
</ul>
</section>
<section id="bottom-line-summary" class="level2" data-number="238.4">
<h2 data-number="238.4" class="anchored" data-anchor-id="bottom-line-summary"><span class="header-section-number">238.4</span> Bottom line / summary</h2>
<ul>
<li>PGR – Beyond Sensitivity and Specificity</li>
<li>A 55F who is a nurse comes in with sepsis and chest pain, a RUL infiltrate that is cavitating in XR.</li>
<li>CME:</li>
<li>Answer</li>
<li>A history of risk (which is therefore, a history of probability and consequence)</li>
</ul>
</section>
<section id="approach" class="level2" data-number="238.5">
<h2 data-number="238.5" class="anchored" data-anchor-id="approach"><span class="header-section-number">238.5</span> Approach</h2>
<ol type="1">
<li>TODO: Outline the initial assessment or decision point.</li>
<li>TODO: Outline the next diagnostic or management step.</li>
<li>TODO: Outline follow-up or escalation criteria.</li>
</ol>
</section>
<section id="red-flags-when-to-escalate" class="level2" data-number="238.6">
<h2 data-number="238.6" class="anchored" data-anchor-id="red-flags-when-to-escalate"><span class="header-section-number">238.6</span> Red flags / when to escalate</h2>
<ul>
<li>TODO: List red flags that require urgent escalation.</li>
</ul>
</section>
<section id="common-pitfalls" class="level2" data-number="238.7">
<h2 data-number="238.7" class="anchored" data-anchor-id="common-pitfalls"><span class="header-section-number">238.7</span> Common pitfalls</h2>
<ul>
<li>TODO: Capture common errors or missed steps.</li>
</ul>
</section>
<section id="references" class="level2" data-number="238.8">
<h2 data-number="238.8" class="anchored" data-anchor-id="references"><span class="header-section-number">238.8</span> References</h2>
<p>TODO: Add landmark references or guideline citations.</p>
</section>
<section id="slides-and-assets" class="level2" data-number="238.9">
<h2 data-number="238.9" class="anchored" data-anchor-id="slides-and-assets"><span class="header-section-number">238.9</span> Slides and assets</h2>
<ul>
<li><a href="../../archive/Presentations/PGR - Beyond Se and Sp.pptx">Presentations/PGR - Beyond Se and Sp.pptx</a></li>
</ul>
</section>
<section id="source-materials" class="level2" data-number="238.10">
<h2 data-number="238.10" class="anchored" data-anchor-id="source-materials"><span class="header-section-number">238.10</span> Source materials</h2>
<ul>
<li><a href="../../archive/Presentations/PGR - Beyond Se and Sp.pptx">Presentations/PGR - Beyond Se and Sp.pptx</a></li>
</ul>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script>
<script>
// open rdrr links externally ----

var exlinks = document.querySelectorAll("a[href^='https://rdrr.io']");
var exlink_func = function(){
  window.open(this.href);
  return false;
};
for (var i = 0; i < exlinks.length; i++) {
    exlinks[i].addEventListener('click', exlink_func, false);
}

// visible second sidebar in mobile ----

function move_sidebar() {
  var toc = document.getElementById("TOC");
  var small_sidebar = document.querySelector("#quarto-sidebar .sidebar-menu-container");
  var right_sidebar = document.getElementById("quarto-margin-sidebar");

  if (window.innerWidth < 768) {
    small_sidebar.append(toc);
  } else {
    right_sidebar.append(toc);
  }
}
move_sidebar();
window.onresize = move_sidebar;
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/reblocke\.github\.io\/clinical_talks\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../talks/presentations/pgr.html" class="pagination-link" aria-label="PGR">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">237</span>&nbsp; <span class="chapter-title">PGR</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../talks/presentations/pgr-chf-and-the-lungs.html" class="pagination-link" aria-label="PGR Chf And The Lungs">
        <span class="nav-page-text"><span class="chapter-number">239</span>&nbsp; <span class="chapter-title">PGR Chf And The Lungs</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>CC-BY-SA-4.0 (2025) Brian Locke, MD MSc</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>